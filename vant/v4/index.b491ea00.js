import{c as w,e as M,K as u,H as i,p as C}from"./use-translate.c56bc05e.js";import{w as F}from"./with-install.2d06a5b3.js";import{s as O,a as c,p as T,g as A}from"./utils.f27d08ae.js";import{P as E}from"./index.2fa5c196.js";import{A as I,x as K,D as N,y as d,e as B,B as H}from"./vue-libs.a3cd7f61.js";const f=new Date().getFullYear(),[S]=w("date-picker"),U=M({},O,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(f-10,0,1),validator:u},maxDate:{type:Date,default:()=>new Date(f+10,11,31),validator:u}}),_=I({name:S,props:U,emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:r,slots:D}){const n=K(t.modelValue),h=()=>{const e=t.minDate.getFullYear(),a=t.maxDate.getFullYear();return c(e,a,"year",t.formatter,t.filter)},l=e=>e===t.maxDate.getFullYear(),g=e=>e===t.maxDate.getMonth()+1,s=e=>{const{minDate:a,columnsType:o}=t,v=o.indexOf(e),m=n.value[v];if(m)return+m;switch(e){case"year":return a.getFullYear();case"month":return a.getMonth()+1;case"day":return a.getDate()}},y=()=>l(s("year"))?c(1,t.maxDate.getMonth()+1,"month",t.formatter,t.filter):c(1,12,"month",t.formatter,t.filter),x=()=>{const e=s("year"),a=s("month");let o=A(e,a);return l(e)&&g(a)&&(o=t.maxDate.getDate()),c(1,o,"day",t.formatter,t.filter)},V=N(()=>t.columnsType.map(e=>{switch(e){case"year":return h();case"month":return y();case"day":return x();default:throw new Error(`[Vant] DatePicker: unsupported columns type: ${e}`)}}));d(n,e=>{i(e,t.modelValue)&&r("update:modelValue",e)}),d(()=>t.modelValue,e=>{i(e,n.value)||(n.value=e)});const P=(...e)=>r("change",...e),Y=(...e)=>r("cancel",...e),k=(...e)=>r("confirm",...e);return()=>B(E,H({modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,columns:V.value,onChange:P,onCancel:Y,onConfirm:k},C(t,T)),D)}}),$=F(_),J=$;export{J as V};
